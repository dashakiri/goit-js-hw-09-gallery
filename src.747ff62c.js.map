{"version":3,"sources":["app.js","js/markup.js","js/lightbox.js","index.js"],"names":["galleryItems","preview","original","description","galleryRef","document","querySelector","makeGalery","array","galleryItem","map","element","index","div","createElement","classList","add","link","setAttribute","image","append","lightbox","mainContainer","overlayContainer","imageContainer","lightboxImage","closeLightboxButton","currentIndex","onOpenLightbox","event","preventDefault","galleryImage","target","nodeName","src","dataset","source","alt","console","log","window","addEventListener","onEscapeKeyPress","onArrowLeft","onArrowRight","onCloseLightbox","remove","removeEventListener","code","length"],"mappings":"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","file":"src.747ff62c.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n\n","'use strict'\nimport { galleryItems } from \"../app.js\";\n\nexport const galleryRef = document.querySelector('.gallery');\n\n// создает разметку галереи \n\nfunction makeGalery(array) {\n\n        const galleryItem = array.map((element, index) => {\n        const { preview, original, description } = element;\n\n        // console.log(description);\n\n        const div = document.createElement('div');\n        div.classList.add('gallery__item');\n\n        const link = document.createElement('a');\n        link.classList.add('gallery__link');\n        link.setAttribute('href', `${original}`);\n        link.setAttribute('data-index', `${index}`);\n\n\n        const image = document.createElement('img');\n        image.classList.add('gallery__image');\n        image.classList.add('lazyload');\n            image.setAttribute('src', `${preview}`);\n            image.setAttribute('data-src', `${preview}`);\n        image.setAttribute('alt', `${description}`);\n        image.setAttribute('data-source', `${original}`);\n        image.setAttribute('data-index', `${index}`);\n        image.setAttribute('width', '340px');\n        image.setAttribute('height', '240px');\n\n        link.append(image);\n        div.append(link);\n\n        // console.log(image.dataset.index)\n\n        return div;\n    });\n\n    galleryRef.append(...galleryItem);\n\n    return;\n};\n\nmakeGalery(galleryItems);","'use strict'\nimport { galleryRef } from \"./markup.js\";\nimport { galleryItems } from \"../app.js\";\n\nconst lightbox = {\n    mainContainer: document.querySelector('.lightbox'),\n    overlayContainer: document.querySelector('.lightbox__overlay'),\n    imageContainer: document.querySelector('.lightbox__content'),\n    lightboxImage: document.querySelector('.lightbox__image'),\n    closeLightboxButton: document.querySelector('.lightbox__button'),\n};\n\nconst { mainContainer, overlayContainer, imageContainer, lightboxImage, closeLightboxButton } = lightbox;\n\n// подменяет значение атрибута src и открывает модальное окно по клику на картинку\n\nlet currentIndex;\n\ngalleryRef.addEventListener('click', onOpenLightbox);\n\nfunction onOpenLightbox(event) {\n    event.preventDefault()\n\n    const galleryImage = event.target;\n\n    if (galleryImage.nodeName !== 'IMG') {\n        return;\n    };\n\n    lightboxImage.src = galleryImage.dataset.source;\n    lightboxImage.alt = galleryImage.alt;\n    currentIndex = +galleryImage.dataset.index;\n\n    console.log(currentIndex);\n\n    window.addEventListener('keydown', onEscapeKeyPress);\n    window.addEventListener('keydown', onArrowLeft);\n    window.addEventListener('keydown', onArrowRight);\n    \n    mainContainer.classList.add('is-open');\n};\n\n// закрывает модальное окно по клику на кнопку закрыть\n\ncloseLightboxButton.addEventListener('click', onCloseLightbox);\n\nfunction onCloseLightbox() {\n    mainContainer.classList.remove('is-open');\n\n    window.removeEventListener('keydown', onEscapeKeyPress);\n    window.removeEventListener('keydown', onArrowLeft);\n    window.removeEventListener('keydown', onArrowRight);\n\n    lightboxImage.src = '';\n    lightboxImage.alt = '';\n};\n\n// // Закрытие модального окна по клику на div.lightbox__overlay.\n\noverlayContainer.addEventListener('click', onCloseLightbox);\n\n// // Закрытие модального окна по нажатию клавиши ESC.\n\nfunction onEscapeKeyPress(event) {\n    const ESC_KEY_CODE = 'Escape';\n\n    if (ESC_KEY_CODE === event.code) {\n        onCloseLightbox(event);\n    };\n    return;\n};\n\n// // Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\n\nfunction onArrowLeft(event) {\n    if (event.code === \"ArrowLeft\") {\n        if (currentIndex - 1 < 0) {\n            currentIndex = galleryItems.length - 1;\n        } else {\n            currentIndex -= 1;\n        }\n\n        lightboxImage.src = galleryItems[currentIndex].original;\n        lightboxImage.alt = galleryItems[currentIndex].description;\n        \n    }\n}\n\nfunction onArrowRight(event) {\n    if (event.code === \"ArrowRight\") {\n\t\tif (currentIndex + 1 > galleryItems.length - 1) {\n\t\t\tcurrentIndex = 0;\n\t\t} else {\n\t\t\tcurrentIndex += 1;\n\t\t}\n\t\tlightboxImage.src = galleryItems[currentIndex].original;\n\t\tlightboxImage.alt = galleryItems[currentIndex].description;\n\t}\n    \n    }","import './sass/main.scss';\nimport './js/markup';\nimport './js/lightbox';\n"]}